(this.webpackJsonpgetflix=this.webpackJsonpgetflix||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){"use strict";var n=c(21);c.o(n,"useOnScreen")&&c.d(t,"useOnScreen",(function(){return n.useOnScreen})),c.o(n,"useSearchBar")&&c.d(t,"useSearchBar",(function(){return n.useSearchBar}));var r=c(22);c.d(t,"useOnScreen",(function(){return r.a})),c.d(t,"useSearchBar",(function(){return r.b}));var s=c(27);c.d(t,"default",(function(){return s.a}))},,,,function(e,t,c){"use strict";var n=c(24);c.d(t,"default",(function(){return n.a}));var r=c(25);c.o(r,"useMovie")&&c.d(t,"useMovie",(function(){return r.useMovie}));var s=c(26);c.d(t,"useMovie",(function(){return s.a}))},,,,,function(e,t){},function(e,t,c){"use strict";c.d(t,"b",(function(){return j})),c.d(t,"a",(function(){return o}));var n=c(9),r=c.n(n),s=c(14),a=c(4),i=c(1),u=c.n(i),j=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),c=t[0],n=t[1],j=Object(i.useState)(""),o=Object(a.a)(j,2),b=o[0],l=o[1],d=Object(i.useState)(""),f=Object(a.a)(d,2),O=f[0],h=f[1],x=Object(i.useState)([]),p=Object(a.a)(x,2),v=p[0],m=p[1],g=u.a.useState(1),S=Object(a.a)(g,2),N=S[0],w=S[1];return{errorMsg:b,isLoading:c,search:function(){var e=Object(s.a)(r.a.mark((function e(t){var c,s,a,i,u,j,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=o.length>1&&void 0!==o[1]?o[1]:1,n(!0),l(""),e.prev=3,e.next=6,fetch("".concat("https://www.omdbapi.com/","?s=").concat(t,"&apikey=").concat("320f6ab2","&page=").concat(c));case 6:return s=e.sent,e.next=9,s.json();case 9:if(a=e.sent,i=a.Response,u=a.Search,j=a.Error,"True"===i){e.next=13;break}throw new Error(j);case 13:m(u),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),l(null===e.t0||void 0===e.t0?void 0:e.t0.message),m([]);case 20:return e.prev=20,n(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[3,16,20,23]])})));return function(t){return e.apply(this,arguments)}}(),searchValue:O,setSearchValue:h,results:v,page:N,setPage:w}},o=function(e){var t=Object(i.useState)(!1),c=Object(a.a)(t,2),n=c[0],r=c[1];return Object(i.useEffect)((function(){if(e.current){var t=new IntersectionObserver((function(e){var t=Object(a.a)(e,1)[0];return r(t.isIntersecting)}));return t.observe(e.current),function(){t.disconnect()}}}),[]),n}},,function(e,t,c){"use strict";var n=c(2),r=c(16),s=(c(46),c(0));t.a=function(){var e=Object(n.f)().movieId,t=Object(r.useMovie)(e),c=t.isLoading,a=t.errorMsg,i=t.movie;return c?Object(s.jsx)("div",{className:"spinner",children:Object(s.jsx)("i",{className:"fa fa-spinner"})}):""!==a?Object(s.jsxs)("p",{className:"error",children:[Object(s.jsx)("i",{className:"far fa-sad-cry"})," ",Object(s.jsx)("i",{className:"far fa-sad-cry"})," ",Object(s.jsx)("i",{className:"far fa-sad-cry"}),a]}):0===Object.keys(i).length?null:Object(s.jsxs)("article",{className:"movie",children:[Object(s.jsx)("figure",{children:Object(s.jsx)("img",{alt:i.Title,src:"N/A"===i.Poster?"https://omdb.mathub.io/img/logo-omdb.png":i.Poster})}),Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:i.Title}),Object(s.jsx)("h3",{children:i.Plot}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Type"}),": ",i.Type]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Year"}),": ",i.Year]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Released"}),": ",i.Released]}),i.DVD&&Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"DVD"}),": ",i.DVD]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Actors"}),": ",i.Actors]}),"N/A"!==i.Director&&Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Director"}),": ",i.Director]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Genre"}),": ",i.Genre]}),"N/A"!==i.Awards&&Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Awards"}),": ",i.Awards]}),i.BoxOffice&&Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"BoxOffice"}),": ",i.BoxOffice]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Country"}),": ",i.Country]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("b",{children:"Language"}),": ",i.Language]})]})]})}},function(e,t){},function(e,t,c){"use strict";c.d(t,"a",(function(){return j}));var n=c(9),r=c.n(n),s=c(31),a=c(14),i=c(4),u=c(1),j=function(e){var t=Object(u.useState)(!1),c=Object(i.a)(t,2),n=c[0],j=c[1],o=Object(u.useState)(""),b=Object(i.a)(o,2),l=b[0],d=b[1],f=Object(u.useState)({}),O=Object(i.a)(f,2),h=O[0],x=O[1];return Object(u.useEffect)((function(){Object(a.a)(r.a.mark((function t(){var c,n,a,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),d(""),t.prev=2,t.next=5,fetch("".concat("https://www.omdbapi.com/","?i=").concat(e,"&apikey=").concat("320f6ab2"));case 5:return c=t.sent,t.next=8,c.json();case 8:if(n=t.sent,a=n.Response,i=n.Error,u=Object(s.a)(n,["Response","Error"]),"True"===a){t.next=12;break}throw new Error(i);case 12:x(u),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),d(null===t.t0||void 0===t.t0?void 0:t.t0.message),x({});case 19:return t.prev=19,j(!1),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,15,19,22]])})))()}),[]),{errorMsg:l,isLoading:n,movie:h}}},function(e,t,c){"use strict";var n=c(20),r=c(4),s=c(1),a=c.n(s),i=c(10),u=c(12);function j(e,t){var c=new Set;return e.filter((function(e){var n=t(e);return!c.has(n)&&c.add(n)}))}c(39);var o=c(0);t.a=function(){var e=Object(u.useSearchBar)(),t=e.search,c=e.isLoading,s=e.errorMsg,b=e.results,l=e.page,d=e.setPage,f=a.a.useState(""),O=Object(r.a)(f,2),h=O[0],x=O[1],p=a.a.useState(!0),v=Object(r.a)(p,2),m=v[0],g=v[1],S=a.a.useRef(),N=a.a.useState([]),w=Object(r.a)(N,2),y=w[0],D=w[1],k=Object(u.useOnScreen)(S);return a.a.useEffect((function(){m&&0!==b.length&&k&&!c&&d((function(e){return e+1}))}),[k,c]),a.a.useEffect((function(){l>1&&t(h,l)}),[l]),a.a.useEffect((function(){b.length>0&&D((function(e){return[].concat(Object(n.a)(e),Object(n.a)(b))}))}),[b]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),m&&(D([]),t(h,1))},children:[Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{onChange:function(e){var t,c;x(null===(t=e.target)||void 0===t?void 0:t.value),g((null===(c=e.target)||void 0===c?void 0:c.value.length)>=4)},value:h,placeholder:"Search Movie Name",className:"searchTerm"}),!m&&Object(o.jsxs)("p",{className:"warning",children:["Please type minimum ",4," characters and strike enter key!"]})]}),Object(o.jsx)("button",{type:"submit",className:"searchButton",children:Object(o.jsx)("i",{className:"fa fa-search"})})]}),Object(o.jsxs)("section",{className:"results",children:[Object(o.jsx)("ul",{children:j(y,(function(e){return e.imdbID})).map((function(e){return Object(o.jsx)("li",{children:Object(o.jsx)(i.b,{to:"/movie/".concat(e.imdbID),children:Object(o.jsxs)("article",{children:[Object(o.jsx)("figure",{children:Object(o.jsx)("img",{alt:e.Title,src:"N/A"===e.Poster?"https://omdb.mathub.io/img/logo-omdb.png":e.Poster})}),Object(o.jsxs)("section",{children:[Object(o.jsx)("h4",{children:e.Title}),Object(o.jsx)("p",{children:[e.Year,e.Type].join(" ")})]})]})})},e.imdbID)}))}),Object(o.jsx)("div",{className:"spinner",ref:S,children:c&&Object(o.jsx)("i",{className:"fa fa-spinner"})}),""!==s&&Object(o.jsxs)("p",{className:"error",children:[Object(o.jsx)("i",{className:"far fa-sad-cry"})," ",Object(o.jsx)("i",{className:"far fa-sad-cry"})," ",Object(o.jsx)("i",{className:"far fa-sad-cry"}),s]})]})]})}},,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},,,,,,,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(28),a=c.n(s),i=(c(36),c(10)),u=c(2),j=(c(37),c(12)),o=c(16),b=c(0);var l=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(i.a,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/movie/:movieId",children:Object(b.jsx)(o.default,{})}),Object(b.jsx)(u.a,{path:"/",children:Object(b.jsx)(j.default,{})})]})})})},d=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(l,{})}),document.getElementById("root")),d()}],[[47,1,2]]]);
//# sourceMappingURL=main.45e12e47.chunk.js.map
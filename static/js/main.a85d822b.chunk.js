(this.webpackJsonpgetflix=this.webpackJsonpgetflix||[]).push([[0],[,,,,,,,,,,,,function(e,t,c){"use strict";var n=c(21);c.o(n,"useOnScreen")&&c.d(t,"useOnScreen",(function(){return n.useOnScreen})),c.o(n,"useSearchBar")&&c.d(t,"useSearchBar",(function(){return n.useSearchBar}));var r=c(22);c.d(t,"useOnScreen",(function(){return r.a})),c.d(t,"useSearchBar",(function(){return r.b}));var s=c(27);c.d(t,"default",(function(){return s.a}))},,,,function(e,t,c){"use strict";var n=c(24);c.d(t,"default",(function(){return n.a}));var r=c(25);c.o(r,"useMovie")&&c.d(t,"useMovie",(function(){return r.useMovie}));var s=c(26);c.d(t,"useMovie",(function(){return s.a}))},,,,,function(e,t){},function(e,t,c){"use strict";c.d(t,"b",(function(){return o})),c.d(t,"a",(function(){return j}));var n=c(9),r=c.n(n),s=c(14),a=c(4),i=c(0),u=c.n(i),o=function(){var e=Object(i.useState)(!1),t=Object(a.a)(e,2),c=t[0],n=t[1],o=Object(i.useState)(""),j=Object(a.a)(o,2),l=j[0],b=j[1],f=Object(i.useState)(""),d=Object(a.a)(f,2),O=d[0],h=d[1],x=Object(i.useState)([]),p=Object(a.a)(x,2),v=p[0],m=p[1],g=u.a.useState(1),S=Object(a.a)(g,2),N=S[0],w=S[1];return{errorMsg:l,isLoading:c,search:function(){var e=Object(s.a)(r.a.mark((function e(t){var c,s,a,i,u,o,j=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=j.length>1&&void 0!==j[1]?j[1]:1,n(!0),b(""),e.prev=3,e.next=6,fetch("".concat("https://www.omdbapi.com/","?s=").concat(t,"&apikey=").concat("320f6ab2","&page=").concat(c));case 6:return s=e.sent,e.next=9,s.json();case 9:if(a=e.sent,i=a.Response,u=a.Search,o=a.Error,"True"===i){e.next=13;break}throw new Error(o);case 13:m(u),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),b(null===e.t0||void 0===e.t0?void 0:e.t0.message),m([]);case 20:return e.prev=20,n(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[3,16,20,23]])})));return function(t){return e.apply(this,arguments)}}(),searchValue:O,setSearchValue:h,results:v,page:N,setPage:w}},j=function(e){var t=Object(i.useState)(!1),c=Object(a.a)(t,2),n=c[0],r=c[1];return Object(i.useEffect)((function(){if(e.current){var t=new IntersectionObserver((function(e){var t=Object(a.a)(e,1)[0];return r(t.isIntersecting)}));return t.observe(e.current),function(){t.disconnect()}}}),[]),n}},,function(e,t,c){"use strict";var n=c(2),r=c(16),s=(c(46),c(1));t.a=function(){var e=Object(n.f)().movieId,t=Object(r.useMovie)(e),c=t.isLoading,a=t.errorMsg,i=t.movie;return c?Object(s.jsx)("div",{className:"spinner",children:Object(s.jsx)("i",{className:"fa fa-spinner"})}):""!==a?Object(s.jsxs)("p",{className:"error",children:[Object(s.jsx)("i",{className:"far fa-sad-cry"})," ",Object(s.jsx)("i",{className:"far fa-sad-cry"})," ",Object(s.jsx)("i",{className:"far fa-sad-cry"}),a]}):0===Object.keys(i).length?null:Object(s.jsxs)("article",{className:"movie",children:[Object(s.jsx)("figure",{children:Object(s.jsx)("img",{alt:i.Title,src:"N/A"===i.Poster?"https://omdb.mathub.io/img/logo-omdb.png":i.Poster})}),Object(s.jsxs)("section",{children:[Object(s.jsx)("h2",{children:i.Title}),Object(s.jsx)("h3",{children:i.Plot}),Object(s.jsxs)("p",{children:["Type: ",i.Type]}),Object(s.jsxs)("p",{children:["Year: ",i.Year]}),Object(s.jsxs)("p",{children:["Released: ",i.Released]}),Object(s.jsxs)("p",{children:["DVD: ",i.DVD]}),Object(s.jsxs)("p",{children:["Actors: ",i.Actors]}),Object(s.jsxs)("p",{children:["Director: ",i.Director]}),Object(s.jsxs)("p",{children:["Genre: ",i.Genre]}),"N/A"!==i.Awards&&Object(s.jsxs)("p",{children:["Awards: ",i.Awards]}),Object(s.jsxs)("p",{children:["BoxOffice: ",i.BoxOffice]}),Object(s.jsxs)("p",{children:["Country: ",i.Country]}),Object(s.jsxs)("p",{children:["Language: ",i.Language]})]})]})}},function(e,t){},function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(9),r=c.n(n),s=c(31),a=c(14),i=c(4),u=c(0),o=function(e){var t=Object(u.useState)(!1),c=Object(i.a)(t,2),n=c[0],o=c[1],j=Object(u.useState)(""),l=Object(i.a)(j,2),b=l[0],f=l[1],d=Object(u.useState)({}),O=Object(i.a)(d,2),h=O[0],x=O[1];return Object(u.useEffect)((function(){Object(a.a)(r.a.mark((function t(){var c,n,a,i,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),f(""),t.prev=2,t.next=5,fetch("".concat("https://www.omdbapi.com/","?i=").concat(e,"&apikey=").concat("320f6ab2"));case 5:return c=t.sent,t.next=8,c.json();case 8:if(n=t.sent,a=n.Response,i=n.Error,u=Object(s.a)(n,["Response","Error"]),"True"===a){t.next=12;break}throw new Error(i);case 12:x(u),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(2),f(null===t.t0||void 0===t.t0?void 0:t.t0.message),x({});case 19:return t.prev=19,o(!1),t.finish(19);case 22:case"end":return t.stop()}}),t,null,[[2,15,19,22]])})))()}),[]),{errorMsg:b,isLoading:n,movie:h}}},function(e,t,c){"use strict";var n=c(20),r=c(4),s=c(0),a=c.n(s),i=c(10),u=c(12);function o(e,t){var c=new Set;return e.filter((function(e){var n=t(e);return!c.has(n)&&c.add(n)}))}c(39);var j=c(1);t.a=function(){var e=Object(u.useSearchBar)(),t=e.search,c=e.isLoading,s=e.errorMsg,l=e.results,b=e.page,f=e.setPage,d=a.a.useState(""),O=Object(r.a)(d,2),h=O[0],x=O[1],p=a.a.useState(!0),v=Object(r.a)(p,2),m=v[0],g=v[1],S=a.a.useRef(),N=a.a.useState([]),w=Object(r.a)(N,2),y=w[0],k=w[1],T=Object(u.useOnScreen)(S);return a.a.useEffect((function(){m&&0!==l.length&&T&&!c&&f((function(e){return e+1}))}),[T,c]),a.a.useEffect((function(){b>1&&t(h,b)}),[b]),a.a.useEffect((function(){l.length>0&&k((function(e){return[].concat(Object(n.a)(e),Object(n.a)(l))}))}),[l]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("form",{className:"search",onSubmit:function(e){e.preventDefault(),m&&(k([]),t(h,1))},children:[Object(j.jsxs)("label",{children:[Object(j.jsx)("input",{onChange:function(e){var t,c;x(null===(t=e.target)||void 0===t?void 0:t.value),g((null===(c=e.target)||void 0===c?void 0:c.value.length)>=4)},value:h,placeholder:"Search Movie Name",className:"searchTerm"}),!m&&Object(j.jsxs)("p",{className:"warning",children:["Please type minimum ",4," characters and strike enter key!"]})]}),Object(j.jsx)("button",{type:"submit",className:"searchButton",children:Object(j.jsx)("i",{className:"fa fa-search"})})]}),Object(j.jsxs)("section",{className:"results",children:[Object(j.jsx)("ul",{children:o(y,(function(e){return e.imdbID})).map((function(e){return Object(j.jsx)("li",{children:Object(j.jsx)(i.b,{to:"/movie/".concat(e.imdbID),children:Object(j.jsxs)("article",{children:[Object(j.jsx)("figure",{children:Object(j.jsx)("img",{alt:e.Title,src:"N/A"===e.Poster?"https://omdb.mathub.io/img/logo-omdb.png":e.Poster})}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h4",{children:e.Title}),Object(j.jsx)("p",{children:[e.Year,e.Type].join(" ")})]})]})})},e.imdbID)}))}),Object(j.jsx)("div",{className:"spinner",ref:S,children:c&&Object(j.jsx)("i",{className:"fa fa-spinner"})}),""!==s&&Object(j.jsxs)("p",{className:"error",children:[Object(j.jsx)("i",{className:"far fa-sad-cry"})," ",Object(j.jsx)("i",{className:"far fa-sad-cry"})," ",Object(j.jsx)("i",{className:"far fa-sad-cry"}),s]})]})]})}},,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},,,,,,,function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),s=c(28),a=c.n(s),i=(c(36),c(10)),u=c(2),o=(c(37),c(12)),j=c(16),l=c(1);var b=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(i.a,{children:Object(l.jsxs)(u.c,{children:[Object(l.jsx)(u.a,{path:"/movie/:movieId",children:Object(l.jsx)(j.default,{})}),Object(l.jsx)(u.a,{path:"/",children:Object(l.jsx)(o.default,{})})]})})})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,48)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;c(e),n(e),r(e),s(e),a(e)}))};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root")),f()}],[[47,1,2]]]);
//# sourceMappingURL=main.a85d822b.chunk.js.map